---
layout: post
title: linux常用命令
tags: [linux, ubantu]
color: black
feature-img: "assets/img/pexels/computer.jpeg"
thumbnail: "assets/img/thumbnails/linux.jpg"
excerpt_separator: <!--more-->
---

# linux常用命令

* `ls` list 查看当前文件夹下的内容  
* `pwd` print work directory 查看当前所在文件夹  
* `cd [目录名]` change directory
<!--more-->
* `touch [文件名]` 如果文件不存在，新建文件  
* `mkdir [目录名]` make directory 创建目录

>`rm [文件名]` remove 删除指定文件，不能恢复  
>* `--recursive` `-r` 删除目录及其内容  
>* `-d` 删除空目录  
>
>`rmdir [目录名]` 删除指定目录，目录必须为空的

* `clear` clear 清屏

#### 通用格式 `command [-option] [paramers]`  
#### 查询帮助 `command --help` 或者 `man command` man是manual的缩写，手册的意思 *b f q*操作页面  
#### 自动补全内容 按下**Tab**键  
#### 上下键查找之前使用过的命令，强制结束，按`ctrl+c`
___
>ls命令：
>* `-a` 查看隐藏文件 隐藏文件在linux系统中是以`.`开头的文件
>* `-l` 以列表方式现实文件的详细信息
>* `-h` 以人性化的方式显示文件大小

**同一个命令的不同选项可以省略-连接在一起输入 如 `ls -lha`**

>ls通配符的使用：
>- `*`所有任意数量的字符
>- `?`一个任意字符
>- `[]`字符组,如`[abc][1234][a-z][1-9]`匹配其中任一个字符

>cd命令：  
`cd` 或 `cd ~` 切换到当前用户的主目录  
`cd -` 可以在最近两次工作目录之间来回切换  

#### 相对路径：最前面没有`/`或`~` 
#### 绝对路径：从`/`或`～`起始  

>linux主要目录：  
`/`根目录 即所在磁盘所有文件  
`/home`家目录 用户个人空间的父级目录  
`~`当前用户的根目录

>touch命令：  
如果文件已经存在，修改文件的末次修改时间，文件内容不变  
如果文件不存在，创建此文件  

>mkdir命令：
>* `-p` `--parents`可以递归创建目录,如`a/b/c`

>rm命令：
>* `-f`强制删除，没有提示
>* `-r`迭代删除

>tree [目录]：  
显示以参数目录为源头的树状文件结构
>* `-d`只显示目录，不显示文件

>`cp 源文件 目标文件`：复制文件命令  
* `-i`若存在同名文件，提醒是否覆盖`y/n`没有此选项则默认覆盖
* `-r`复制文件夹

>`mv 源文件 目标文件`：移动操作，相当于剪切
>* `-i`若存在同名文件，提醒是否覆盖`y/n`没有此选项则默认覆盖

>`cat(concatenate的缩拼) 文件名`：查看文件内容，创建文件，文件合并，追加文件内容等功能
>* `-b` 非空行标上行号
>* `-n` 所有行标上行号

>`more 文件名`：分屏显示文件内容  
`space` 向下分页  
`enter` 向下一行  
*b f*操作 `q退出`

>`grep 搜索关键字(支持正则表达式) 目标被搜索内容`：搜索,并按行输出整行
>* `-n`带上行号
>* `-v`反向选择
>* `-i`忽略大小写

>`echo 参数`：在终端中显示参数  
linux允许将命令执行结果重定向到一个文件，将本应该输出到终端上的内容输出/追加到指定文件中

>重定向  
`>`表示输出，会覆盖文件原有内容  
`>>`表示追加，会将内容追加到已有文件的末尾

>管道 `|`  
linux允许将一个命令的输出通过管道作为另一个命令的输入

>远程管理常用命令  
`shutdown 选项 时间`：关机/重新启动
>* `-r`重启电脑 
> 
>例子：  
>`shutdown -r now`  
>`shutdown now`  
>`shutdown 20:25`  
>`shutdown +10(单位分钟)`  
>`shutdown -c`取消存在的关机计划

>网卡和IP地址：网卡相当于sim卡,IP地址相当于电话号码  
`ifconfig`:查看/配置计算机当前的网卡配置信息  
`ping ip`地址 检测到目标ipp地址的连接是否正常  
`ifconfig|grep inet` 查看IP地址  
`ping 127.0.0.1` 检测网卡是否工作正常

>远程登录和复制文件：  
**SSH:secure shell**协议连接到远程计算机的软件程序  
*linux* *mac* 自带客户端和服务器,*windows*需要下载**XShell**,*win10*应该cmd应该直接可以了
SSH客户端<<<----->>>数据加密和压缩传输<<<----->>>SSH服务器

>域名和端口号：  
域名：由一串用点分隔的名字组成，IP地址的别名  
端口号：  
IP地址找到计算机, 端口找到程序  
>
>|类型|端口|
|-|-|
|SSH服务器|22|
|WEB服务器|80|
|HTTPS|443|
|FTP服务器|21|

>SSH客户端的简单使用  
`ssh [-p port] user@remoteIP地址` :登录操作  
`scp (secure copy) :远程拷贝文件` **windows**中需要使用*filezilla*是**FTP**协议  
`scp -P port (本地) (user@remote:远程目标文件)` :颠倒即反向传输
>* `-r`:复制文件夹  
>* `exit` ：退出

>免密码登录和配置别名  
>>配置公钥  
`ssh-keygen`生成SSH钥匙，一路回车
**.ssh**下会生成**id_rsa.pub**文件存储公钥,**id_rsa**私钥
`ssh-copy-id user@remoteIP`会把公钥传给服务器，以后免密码  
>非对称加密算法：传输是私钥加密 公钥解密
>
>>配置别名  
在*~/.ssh/config*里面追加内容,没有就新建
>>  
>>```
>>Host 别名  
>>    HostName ip地址  
>>    User 用户名  
>>    Port 22
>>```

>用户权限相关命令  
>
>|读read|写write|执行excute|
|-|-|-|
|r|w|x|
|4|2|1|
>
>`ls -l`输出范例:<font color='green'>drwxr-xr-x 2 joyphy-python joyphy-python 4096 9月  26 22:30 shuzi</font>  
>* 第一个字符为文件(-)或目录(d)表示  
>* 紧接着9个字符:前三个为拥有者权限，中间三个为组权限，后面三个为其他人权限  
>
>数字为硬连接数，有多少种路径方式到达该位置，除了绝对路径还有`.` `..`,文件硬连接数一般为1，目录硬连接数一般为子目录数+2(绝对路径和`.`)

>chmod命令：  
`chmod +/- rwx 文件名或目录名`
>* `-R` 递归修改目录下的所有文件和目录
>
>**x** 执行权限指能否在终端中用命令操作该文件或目录

>组管理(修改需要sudo账户)  
`groupadd 组名`:添加组  
`groupdel 组名`:删除组  
`cat /etc/group`:确认组信息  
`chgrp -R 组名 文件/目录名`:递归修改文件/目录的所属组

>用户管理(sudo)  
`useradd -m -g 组名 新建用户名`:添加新用户到组  
>* `-m`自动建立用户家目录  
>* `-g`指定用户所在的组，否则会建立一个和用户同名的组名  
>
>`passwd 用户名 设置用户密码`

>`userdel -r 用户名`:删除用户
>* `-r`删除家目录

>`id 用户名`:查看用户代号  
或`cat/etc/passwd|grep 用户名`

>`who`  :查看当前的登录用户列表  
`whoami`  :查看当前登录用户

>usermod命令：设置用户的主组/附加组和登录shell  
`usermod -g 组 用户名`:修改用户的主组  
`usermod -G 组 用户名`：修改用户的附加组  
`usermod -s /bin/bash 用户名`:修改用户shell

>`which 命令`可以查看执行命令所在位置，如：  
`which ls`  
`which useradd`

>切换用户
`su 用户名`:切换用户，但是保留当前工作目录  
`su - 用户名`:切换用户，并变成新用户的家目录  
`exit`:退出当前用户到上一个用户  

>修改文件权限  
chown 修改拥有者  
chgrp 修改组  
chmod 修改权限  
`chown 用户名  文件名或目录名`  
`chgrp -R 组名 文件名或目录名`  
`chmod -R 755 文件名或目录名`755对应*拥有者*, *组*, *其他*

>系统信息  
`date`查看系统时间

>`cal`查看本月日历
>* `-y`查看一年日历

>`df -h`:disk free显示磁盘剩余空间  
`du -h`:disk usage显示当前目录及其子目录占有空间大小

>进程信息
`ps [aux]`:process status  查看进程的详细状况
>* `a`显示终端上的所有进程，没有默认只显示当前终端打开的进程
>* `u`显示进程的详细状态
>* `x`显示没有控制终端的进程

>`top`：动态显示运行中的进程并且排序

>`kill [-9] 进程代号`：终止指定代号的进程， -9表示强行终止
___
#### 软件操作命令  
>find命令：特定的目录下搜索符合条件的文件  
`find [路径] -name "*.py"`:查找指定路径下扩展名为.py的文件，包括子目录
如果省略路径，表示在当前文件夹下查找

>软链接  
`ln -s 被链接的源文件 链接新的名字`  
>* 没有-s 选项建立的是一个硬链接文件(两个文件占用大小相同的硬盘空间，工作中几乎不会建立文件的硬链接)  
>* 源文件要使用绝对路径，不能使用相对路径，这样可以方便移动链接文件后，仍然能够正常使用
>* 软链接链接的文件数据的文件名，文件数据本身只有一个指向，所以删除文件后无法再指向文件数据
>* 硬链接是新建了一个文件数据的索引，删除之前的文件名但是还有硬链接这个索引在，所以文件数据不会被覆写，只有删除之前的文件名和所有硬链接才能够删除文件数据

>打包压缩  
linux常用压缩文件格式**tar.gz**
>* tar是linux中最常用的备份工具，此命令可以把一系列文件打包到一个大文件中
>
>`tar -cvf 打包文件.tar 被打包的文件或路径...`：打包  
`tar -xvf 打包文件.tar`:解包  
>* `-C`指定目标路径

>
>>gzip命令：压缩tar包,后缀名为**.tar.gz**  
tar 添加`-z`选项可以调用gzip
>
>>bzip2命令：用法和gzip类似,后缀名为**.tar.bz2**  
>>tar 添加`-i`选项可以调用

>apt命令：**advanced packaging tool**,是linux下的一款安装包管理工具
`sudo apt install 软件包`:安装软件  
`sudo apt remove 软件包`:卸载软件  
`sudo apt upgrade`:更新已安装的包

#### 设置软件源：打开<font color='red'>软件和更新</font>设置 设置服务器, *清华镜像源*不错